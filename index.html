<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="shortcut icon" href="favicon.ico" />
    <link rel="icon" type="image/x-icon" sizes="16x16 32x32" href="favicon.ico">
    <link rel="apple-touch-icon" sizes="any" href="apple-touch-icon.png">
    <link rel="icon" sizes="any" href="favicon-32.png">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" sizes="192x192" href="icon192.png">
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Manifest JSON</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        #main-content {
            flex: 1;
            display: flex;
            height: 100vh;
        }
        pre {
            background-color: #1f2937;
            color: #e5e7eb;
            padding: 1rem;
            border-radius: 0.375rem;
            overflow-x: auto;
            height: 100%;
        }
    </style>
</head>
<body class="bg-gray-300">

    <div id="main-content" class="flex justify-between items-start p-5 bg-gray-200 shadow-md rounded">
        <div class="flex flex-col w-1/2 p-5">
            <div class="flex items-center mb-4">
                <a href="https://github.com/sudo-self" target="_blank" rel="noopener noreferrer">
                    <img src="https://api.iconify.design/akar-icons:github-fill.svg" alt="GitHub" class="w-8 h-8 mr-2">
                </a>
                <a href="https://x.com/ilostmyipad" target="_blank" rel="noopener noreferrer">
                    <img src="https://api.iconify.design/akar-icons:twitter-fill.svg" alt="Twitter" class="w-8 h-8 mr-2">
                </a>
                <a href="http://manifest.jessejesse.xyz" target="_blank" rel="noopener noreferrer" class="flex items-center text-blue-600 hover:underline">
                    <img src="https://api.iconify.design/bi-filetype-json.svg" alt="JSON" class="w-8 h-8 mr-2">
                </a>
            </div>

            <h1 class="text-2xl font-bold mb-4">manifest.json</h1>
            <a href="https://github.com/sudo-self/manifest-json/actions/workflows/static.yml">
            <img src="https://github.com/sudo-self/manifest-json/actions/workflows/static.yml/badge.svg" alt="Deploy static content to Pages">
            </a>

            <input type="text" id="short-name" placeholder="Short Name" class="border p-2 mb-2 w-full">
            <input type="text" id="name" placeholder="Application Name" class="border p-2 mb-2 w-full">
            <input type="text" id="start-url" placeholder="Start URL" class="border p-2 mb-2 w-full">
            <input type="text" id="icon1" placeholder="Icon 192x192" class="border p-2 mb-2 w-full">
            <input type="text" id="icon2" placeholder="Icon 512x512" class="border p-2 mb-2 w-full">
            <input type="text" id="theme-color" placeholder="Theme Color" class="border p-2 mb-2 w-full">
            <input type="text" id="background-color" placeholder="Background Color" class="border p-2 mb-2 w-full">

            <button id="download-btn" type="button" class="bg-green-800 text-white py-2 rounded hover:bg-green-700 mt-4">
                Download
            </button>

            <div class="mt-4">
                <code id="bubblewrap-command" class="bg-gray-300 p-2 rounded">
                    bubblewrap init --manifest https://sudo-self.github.io/manifest-json/manifest.json
                </code>
            </div>
        </div>

        <div class="w-1/2 p-5 bg-gray-900 text-white rounded overflow-auto">
            <h2 class="text-xl text-green-400 mb-2">//manifest.json</h2>
            <pre id="terminal-output"></pre>
        </div>
    </div>

    <footer class="bg-gray-900 text-gray-100 text-center p-4">
        @iLostmyipad
    </footer>

    <script>
        const updateTerminalOutput = () => {
            const shortName = document.getElementById('short-name').value;
            const name = document.getElementById('name').value;
            const startUrl = document.getElementById('start-url').value;
            const icon1 = document.getElementById('icon1').value;
            const icon2 = document.getElementById('icon2').value;
            const themeColor = document.getElementById('theme-color').value;
            const backgroundColor = document.getElementById('background-color').value;

            const manifestData = {
                short_name: shortName,
                name,
                start_url: startUrl,
                icons: [
                    {
                        src: icon1,
                        type: "image/png",
                        sizes: "192x192",
                        purpose: "any maskable"
                    },
                    {
                        src: icon2,
                        type: "image/png",
                        sizes: "512x512",
                        purpose: "any maskable"
                    }
                ],
                theme_color: themeColor,
                background_color: backgroundColor
            };

            document.getElementById('terminal-output').textContent = JSON.stringify(manifestData, null, 2);
         
            document.getElementById('uploaded-url').textContent = `{"short_name": "${shortName}", "name": "${name}", "start_url": "${startUrl}", "icons": [{"src": "${icon1}", "type": "image/png", "sizes": "192x192", "purpose": "any maskable"}, {"src": "${icon2}", "type": "image/png", "sizes": "512x512", "purpose": "any maskable"}], "theme_color": "${themeColor}", "background_color": "${backgroundColor}"}`;
        };

        document.querySelectorAll('input, textarea').forEach(input => {
            input.addEventListener('input', updateTerminalOutput);
        });

        document.getElementById('download-btn').addEventListener('click', () => {
            const dataStr = document.getElementById('terminal-output').textContent;
            const blob = new Blob([dataStr], { type: "application/json" });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'manifest.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        });

        updateTerminalOutput();
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
</body>
</html>
















